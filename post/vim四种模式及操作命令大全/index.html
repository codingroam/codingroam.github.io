<!doctype html><html lang=zh-cn dir=content/zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=content-security-policy content="upgrade-insecure-requests"><title>Vim的四种模式及操作命令大全 - 好记性不如烂笔头</title><meta name=keywords content="博客,程序员,架构师,思考,读书,笔记,技术,分享,大数据,产品"><meta name=author content="极光code"><meta property="og:title" content="Vim的四种模式及操作命令大全"><meta property="og:site_name" content="好记性不如烂笔头"><meta property="og:image" content="/img/author.jpg"><meta name=title content="Vim的四种模式及操作命令大全 - 好记性不如烂笔头"><meta name=description content="Vim four modes and operation command complete"><link rel="shortcut icon" href=/img/favicon.ico><link rel=apple-touch-icon href=/img/apple-touch-icon.png><link rel=apple-touch-icon-precomposed href=/img/apple-touch-icon.png><link href=//unpkg.com/font-awesome@4.7.0/css/font-awesome.min.css rel=stylesheet type=text/css><link href=//unpkg.com/imageviewer@1.1.0/dist/viewer.min.css rel=stylesheet><link href=/css/main.css rel=stylesheet type=text/css><link href=/css/syntax.css rel=stylesheet type=text/css></head><body itemscope itemtype=http://schema.org/WebPage lang=zh-hans><div class="container one-collumn sidebar-position-left page-home"><div class=headband></div><header id=header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle role=button style=opacity:1;top:0><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div></div><div class=site-meta><div class=custom-logo-site-title><a href=/ class=brand rel=start><span class=logo-line-before><i></i></span>
<span class=site-title>好记性不如烂笔头</span>
<span class=logo-line-after><i></i></span></a></div><p class=site-subtitle>锲而不舍，金石可镂！</p></div><div class=site-nav-right><div class="toggle popup-trigger" style=opacity:1;top:0><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul id=menu class=menu><li class=menu-item><a href=/ rel=section><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-active"><a href=/post rel=section><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class=menu-item><a href=/about.html rel=section><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于我</a></li><li class=menu-item><a href=/404.html rel=section><i class="menu-item-icon fa fa-fw fa-heartbeat"></i><br>公益404</a></li><li class="menu-item menu-item-search"><a href=javascript:; class=popup-trigger><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class=site-search><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class=search-icon><i class="fa fa-search"></i></span>
<span class=popup-btn-close><i class="fa fa-times-circle"></i></span><div class=local-search-input-wrapper><input autocomplete=off placeholder=搜索关键字... spellcheck=false type=text id=local-search-input autocapitalize=none autocorrect=off></div></div><div id=local-search-result></div></div></div></nav></div></header><main id=main class=main><div class=main-inner><div class=content-wrap><div id=content class=content><section id=posts class=posts-expand><article class="post post-type-normal" itemscope itemtype=http://schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline"><a class=post-title-link href=/post/vim%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F%E5%8F%8A%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4%E5%A4%A7%E5%85%A8/ itemprop=url>Vim的四种模式及操作命令大全</a></h1><div class=post-meta><span class=post-pushdate><i class="fa fa-calendar-o fa-fw"></i>
<span class=post-meta-item-text>时间：</span>
<time itemprop=dateCreated datetime=2016-03-22T13:04:35+08:00 content="2022-05-29">2022-05-29</time></span>
<span class=post-category><i class="fa fa-folder-o fa-fw"></i>
<span class=post-meta-item-text>分类：</span>
<span itemprop=about itemscope itemtype=https://schema.org/Thing><a class=post-category-a href=/categories/linux itemprop=url rel=index><span itemprop=name>Linux</span></a>
&nbsp;</span>
<span itemprop=about itemscope itemtype=https://schema.org/Thing><a class=post-category-a href=/categories/linux-command itemprop=url rel=index><span itemprop=name>Linux Command</span></a>
&nbsp;</span></span>
<span class=post-wordcount><i class="fa fa-file-word-o fa-fw"></i>
<span class=post-meta-item-text>字数：</span>
<span class=leancloud-world-count>13109 字</span></span>
<span class=post-readtime><i class="fa fa-eye fa-fw"></i>
<span class=post-meta-item-text>阅读：</span>
<span class=leancloud-view-count>27分钟</span></span>
<span id=/post/vim%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F%E5%8F%8A%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4%E5%A4%A7%E5%85%A8/ class="leancloud_visitors post-visitor" data-flag-title=Vim的四种模式及操作命令大全><i class="fa fa-binoculars fa-fw"></i>
<span class=post-meta-item-text>阅读次数：</span>
<span class=leancloud-visitors-count></span></span></div></header><div class=post-body itemprop=articleBody><p>介绍Vim的四种模式及命令操作大全</p><h1 id=一四种模式>一、四种模式</h1><h2 id=1正常模式normal>1、正常模式（normal）</h2><ul><li>正常模式是使用vim打开文件时的默认模式。</li><li>无论在哪种模式下，按下Esc键就会进入正常模式。</li><li>在这个模式下：<ul><li>可以移动光标</li><li>选中行，复制（ctrl+C）</li><li>可以增、删<ul><li><code>x</code>删除光标后的一个字符，<code>nx（n是数字）</code>删除光标后的n个字符，<code>X</code>删除光标前的一个字符，</li><li><code>dd</code>剪切光标所在的那一行，<code>ndd</code>剪切光标所在行后的n行</li><li><code>p</code>光标所在行开始，向后粘贴已经复制的内容，<code>P</code>光标所在行开始，向前粘贴已经复制的内容</li><li><code>yy</code>复制光标所在的行，<code>nyy</code>复制光标所在行后的n行</li><li><code>u</code>还原上一次的操作</li></ul></li></ul></li></ul><h2 id=2命令模式command>2、命令模式（command）</h2><ul><li>在正常模式下输入<code>:</code>或<code>/</code>进入命令行模式</li><li>在该模式下可以进行保存，搜索，替换，退出，显示行号等。<ul><li><code>/word</code> 光标之后查找字符串word，按<code>n</code>向后搜索，按<code>N</code>向前搜索</li><li><code>?word</code>光标之前查找字符串word，按<code>n</code>向前搜索，按<code>N</code>向前搜索</li><li><code>:n1,n2/word1/word2/g</code> 将n1到n2行之间的word1替换为word2，不加g则只替换每行的第一个word1，加g则搜到的word1全部替换为word2；</li><li><code>:1,$s/word1/word2/g</code>将文章中的word1替换为word2，不加g则只替换每行的第一个word1</li><li><code>:w</code>保存文本 ，<code>:w!</code>强制保存</li><li><code>:q</code>退出vim ；<code>:q!</code>强制退出</li><li><code>:wq</code> 保存并退出</li><li><code>:set nu</code> 显示行号，<code>:set nonu</code>不显示行号</li></ul></li></ul><h2 id=3插入模式insert>3、插入模式（insert）</h2><ul><li>在正常模式下按下i键，进入插入模式。在插入模式下按Esc键切换到普通模式。</li><li>插入模式里可以进行文字的输入<ul><li><code>i</code> 在光标所在字符前开始输入文字并进入插入模式。</li><li><code>I</code> 在行首开始输入文字并进入插入模式。此行首指第一个非空白字符处。如果行首有空格，则在空格之后输入文字并进入插入模式</li><li><code>a</code> 在光标所在字符后开始输入文字并进入插入模式</li><li><code>A</code> 在行尾开始输入文字并进入插入模式。这个好用，您不必管光标在此行的什麽地方，只要按 A 就会在行尾等着您输入文字。</li><li><code>o</code> 在光标所在行的下面单独开一新行，来输入文字并进入插入模式</li><li><code>O</code> 在光标所在行的上面单独开一新行来输入文字并进入插入模式</li><li><code>s</code> 删除光标所在的字符并进入插入模式</li><li><code>S</code> 删除光标所在行并进入插入模式</li></ul></li></ul><h2 id=4可视模式visual>4、可视模式（visual）</h2><ul><li>在正常模式下按v（小写）进入字符文本，按V（大写）进入行文本，然后使用上下左右键操作选中区域，对选中的部分使用<ul><li>d进行删除</li><li>y进行复制</li><li>p进行粘贴</li><li>r进行文本替换</li><li>gu转换为小写，gU转换为大写，g~大小写互换</li></ul></li></ul><h1 id=二操作命令大全>二、操作命令大全</h1><h2 id=常用-剪切和复制粘贴httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid71><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id71 target=_blank rel=noopener>[常用] 剪切和复制、粘贴</a></h2><ul><li>[n]x: 剪切光标右边n个字符，相当于d[n]l。</li><li>[n]X: 剪切光标左边n个字符，相当于d[n]h。</li><li>y: 复制在可视模式下选中的文本。</li><li>yy or Y: 复制整行文本。</li><li>y[n]w: 复制一(n)个词。</li><li>y[n]l: 复制光标右边1(n)个字符。</li><li>y[n]h: 复制光标左边1(n)个字符。</li><li>y$: 从光标当前位置复制到行尾。</li><li>y0: 从光标当前位置复制到行首。</li><li>:m,ny<cr> 复制m行到n行的内容。</li><li>y1G或ygg: 复制光标以上的所有行。</li><li>yG: 复制光标以下的所有行。</li><li>yaw和yas：复制一个词和复制一个句子，即使光标不在词首和句首也没关系。</li><li>d: 删除（剪切）在可视模式下选中的文本。</li><li>d$ or D: 删除（剪切）当前位置到行尾的内容。</li><li>d[n]w: 删除（剪切）1(n)个单词</li><li>d[n]l: 删除（剪切）光标右边1(n)个字符。</li><li>d[n]h: 删除（剪切）光标左边1(n)个字符。</li><li>d0: 删除（剪切）当前位置到行首的内容</li><li>[n] dd: 删除（剪切）1(n)行。</li><li>:m,nd<cr> 剪切m行到n行的内容。</li><li>d1G或dgg: 剪切光标以上的所有行。</li><li>dG: 剪切光标以下的所有行。</li><li>daw和das：剪切一个词和剪切一个句子，即使光标不在词首和句首也没关系。</li><li>d/f<cr>：这是一个比较高级的组合命令，它将删除当前位置 到下一个f之间的内容。</li><li>p: 在光标之后粘贴。</li><li>P: 在光标之前粘贴。</li></ul><h2 id=常用基本插入httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid68><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id68 target=_blank rel=noopener>[常用]基本插入</a></h2><ul><li>i: 在光标前插入；一个小技巧：按8，再按i，进入插入模式，输入=， 按esc进入命令模式，就会出现8个=。 这在插入分割线时非常有用，如30i+<esc>就插入了36个+组成的分割线。</li><li>I: 在当前行第一个非空字符前插入；</li><li>gI: 在当前行第一列插入；</li><li>a: 在光标后插入；</li><li>A: 在当前行最后插入；</li><li>o: 在下面新建一行插入；</li><li>O: 在上面新建一行插入；</li><li>:r filename在当前位置插入另一个文件的内容。</li><li>:[n]r filename在第n行插入另一个文件的内容。</li><li>:r !date 在光标处插入当前日期与时间。同理，:r !command可以将其它shell命令的输出插入当前文档。</li></ul><h2 id=常用-基本移动httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid64><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id64 target=_blank rel=noopener>[常用] 基本移动</a></h2><p>以下移动都是在normal模式下。</p><ul><li>h或退格: 左移一个字符；</li><li>l或空格: 右移一个字符；</li><li>j: 下移一行；</li><li>k: 上移一行；</li><li>gj: 移动到一段内的下一行；</li><li>gk: 移动到一段内的上一行；</li><li>+或Enter: 把光标移至下一行第一个非空白字符。</li><li>-: 把光标移至上一行第一个非空白字符。</li><li>w: 前移一个单词，光标停在下一个单词开头；</li><li>W: 移动下一个单词开头，但忽略一些标点；</li><li>e: 前移一个单词，光标停在下一个单词末尾；</li><li>E: 移动到下一个单词末尾，如果词尾有标点，则移动到标点；</li><li>b: 后移一个单词，光标停在上一个单词开头；</li><li>B: 移动到上一个单词开头，忽略一些标点；</li><li>ge: 后移一个单词，光标停在上一个单词末尾；</li><li>gE: 同 ge ，不过‘单词’包含单词相邻的标点。</li><li>(: 前移1句。</li><li>): 后移1句。</li><li>{: 前移1段。</li><li>}: 后移1段。</li><li>fc: 把光标移到同一行的下一个c字符处</li><li>Fc: 把光标移到同一行的上一个c字符处</li><li>tc: 把光标移到同一行的下一个c字符前</li><li>Tc: 把光标移到同一行的上一个c字符后</li><li>;: 配合f & t使用，重复一次</li><li>,: 配合f & t使用，反向重复一次</li></ul><p>上面的操作都可以配合n使用，比如在正常模式(下面会讲到)下输入3h， 则光标向左移动3个字符。</p><ul><li>0: 移动到行首。</li><li>g0: 移到光标所在屏幕行行首。</li><li>^: 移动到本行第一个非空白字符。</li><li>g^: 同 ^ ，但是移动到当前屏幕行第一个非空字符处。</li><li>$: 移动到行尾。</li><li>g$: 移动光标所在屏幕行行尾。</li><li>n|: 把光标移到递n列上。</li><li>nG: 到文件第n行。</li><li>:n<cr> 移动到第n行。</li><li>:$<cr> 移动到最后一行。</li><li>H: 把光标移到屏幕最顶端一行。</li><li>M: 把光标移到屏幕中间一行。</li><li>L: 把光标移到屏幕最底端一行。</li><li>gg: 到文件头部。</li><li>G: 到文件尾部。</li></ul><h1 id=2-启动vimhttpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid61><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id61 target=_blank rel=noopener>2. 启动Vim</a></h1><ul><li>vim -c cmd file: 在打开文件前，先执行指定的命令；</li><li>vim -r file: 恢复上次异常退出的文件；</li><li>vim -R file: 以只读的方式打开文件，但可以强制保存；</li><li>vim -M file: 以只读的方式打开文件，不可以强制保存；</li><li>vim -y num file: 将编辑窗口的大小设为num行；</li><li>vim + file: 从文件的末尾开始；</li><li>vim +num file: 从第num行开始；</li><li>vim +/string file: 打开file，并将光标停留在第一个找到的string上。</li><li>vim &ndash;remote file: 用已有的vim进程打开指定的文件。 如果你不想启用多个vim会话，这个很有用。但要注意， 如果你用vim，会寻找名叫VIM的服务器；如果你已经有一个gvim在运行了， 你可以用gvim &ndash;remote file在已有的gvim中打开文件。</li></ul><h1 id=3-文档操作httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid62><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id62 target=_blank rel=noopener>3. 文档操作</a></h1><ul><li>:e file &ndash;关闭当前编辑的文件，并开启新的文件。 如果对当前文件的修改未保存，vi会警告。</li><li>:e! file &ndash;放弃对当前文件的修改，编辑新的文件。</li><li>:e+file &ndash; 开始新的文件，并从文件尾开始编辑。</li><li>:e+n file &ndash; 开始新的文件，并从第n行开始编辑。</li><li>:enew &ndash;编译一个未命名的新文档。(CTRL-W n)</li><li>:e &ndash; 重新加载当前文档。</li><li>:e! &ndash; 重新加载当前文档，并丢弃已做的改动。</li><li>:e#或ctrl+^ &ndash; 回到刚才编辑的文件，很实用。</li><li>:f或ctrl+g &ndash; 显示文档名，是否修改，和光标位置。</li><li>:f filename &ndash; 改变编辑的文件名，这时再保存相当于另存为。</li><li>gf &ndash; 打开以光标所在字符串为文件名的文件。</li><li>:w &ndash; 保存修改。</li><li>:n1,n2w filename &ndash; 选择性保存从某n1行到另n2行的内容。</li><li>:wq &ndash; 保存并退出。</li><li>ZZ &ndash; 保存并退出。</li><li>:x &ndash; 保存并退出。</li><li>:q[uit] ——退出当前窗口。(CTRL-W q或CTRL-W CTRL-Q)</li><li>:saveas newfilename &ndash; 另存为</li><li>:browse e &ndash; 会打开一个文件浏览器让你选择要编辑的文件。 如果是终端中，则会打开netrw的文件浏览窗口； 如果是gvim，则会打开一个图形界面的浏览窗口。 实际上:browse后可以跟任何编辑文档的命令，如sp等。 用browse打开的起始目录可以由browsedir来设置：<ul><li>:set browsedir=last &ndash; 用上次访问过的目录（默认）；</li><li>:set browsedir=buffer &ndash; 用当前文件所在目录；</li><li>:set browsedir=current &ndash; 用当前工作目录；</li></ul></li><li>:Sex &ndash; 水平分割一个窗口，浏览文件系统；</li><li>:Vex &ndash; 垂直分割一个窗口，浏览文件系统；</li></ul><h1 id=4-光标的移动httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid63><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id63 target=_blank rel=noopener>4. 光标的移动</a></h1><h2 id=41-基本移动httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid64><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id64 target=_blank rel=noopener>4.1 基本移动</a></h2><p>以下移动都是在normal模式下。</p><ul><li>h或退格: 左移一个字符；</li><li>l或空格: 右移一个字符；</li><li>j: 下移一行；</li><li>k: 上移一行；</li><li>gj: 移动到一段内的下一行；</li><li>gk: 移动到一段内的上一行；</li><li>+或Enter: 把光标移至下一行第一个非空白字符。</li><li>-: 把光标移至上一行第一个非空白字符。</li><li>w: 前移一个单词，光标停在下一个单词开头；</li><li>W: 移动下一个单词开头，但忽略一些标点；</li><li>e: 前移一个单词，光标停在下一个单词末尾；</li><li>E: 移动到下一个单词末尾，如果词尾有标点，则移动到标点；</li><li>b: 后移一个单词，光标停在上一个单词开头；</li><li>B: 移动到上一个单词开头，忽略一些标点；</li><li>ge: 后移一个单词，光标停在上一个单词末尾；</li><li>gE: 同 ge ，不过‘单词’包含单词相邻的标点。</li><li>(: 前移1句。</li><li>): 后移1句。</li><li>{: 前移1段。</li><li>}: 后移1段。</li><li>fc: 把光标移到同一行的下一个c字符处</li><li>Fc: 把光标移到同一行的上一个c字符处</li><li>tc: 把光标移到同一行的下一个c字符前</li><li>Tc: 把光标移到同一行的上一个c字符后</li><li>;: 配合f & t使用，重复一次</li><li>,: 配合f & t使用，反向重复一次</li></ul><p>上面的操作都可以配合n使用，比如在正常模式(下面会讲到)下输入3h， 则光标向左移动3个字符。</p><ul><li>0: 移动到行首。</li><li>g0: 移到光标所在屏幕行行首。</li><li>^: 移动到本行第一个非空白字符。</li><li>g^: 同 ^ ，但是移动到当前屏幕行第一个非空字符处。</li><li>$: 移动到行尾。</li><li>g$: 移动光标所在屏幕行行尾。</li><li>n|: 把光标移到递n列上。</li><li>nG: 到文件第n行。</li><li>:n<cr> 移动到第n行。</li><li>:$<cr> 移动到最后一行。</li><li>H: 把光标移到屏幕最顶端一行。</li><li>M: 把光标移到屏幕中间一行。</li><li>L: 把光标移到屏幕最底端一行。</li><li>gg: 到文件头部。</li><li>G: 到文件尾部。</li></ul><h2 id=42-翻屏httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid65><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id65 target=_blank rel=noopener>4.2 翻屏</a></h2><ul><li>ctrl+f: 下翻一屏。</li><li>ctrl+b: 上翻一屏。</li><li>ctrl+d: 下翻半屏。</li><li>ctrl+u: 上翻半屏。</li><li>ctrl+e: 向下滚动一行。</li><li>ctrl+y: 向上滚动一行。</li><li>n%: 到文件n%的位置。</li><li>zz: 将当前行移动到屏幕中央。</li><li>zt: 将当前行移动到屏幕顶端。</li><li>zb: 将当前行移动到屏幕底端。</li></ul><h2 id=43-标记httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid66><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id66 target=_blank rel=noopener>4.3 标记</a></h2><p>使用标记可以快速移动。到达标记后，可以用Ctrl+o返回原来的位置。 Ctrl+o和Ctrl+i 很像浏览器上的 <em>后退</em> 和 <em>前进</em> 。</p><ul><li>m{a-z}: 标记光标所在位置，局部标记，只用于当前文件。</li><li>m{A-Z}: 标记光标所在位置，全局标记。标记之后，退出Vim， 重新启动，标记仍然有效。</li><li>`{a-z}: 移动到标记位置。</li><li>&lsquo;{a-z}: 移动到标记行的行首。</li><li>`{0-9}：回到上[2-10]次关闭vim时最后离开的位置。</li><li><code>: 移动到上次编辑的位置。''也可以，不过</code>精确到列，而&rsquo;&lsquo;精确到行 。如果想跳转到更老的位置，可以按C-o，跳转到更新的位置用C-i。</li><li>`": 移动到上次离开的地方。</li><li>`.: 移动到最后改动的地方。</li><li>:marks 显示所有标记。</li><li>:delmarks a b &ndash; 删除标记a和b。</li><li>:delmarks a-c &ndash; 删除标记a、b和c。</li><li>:delmarks a c-f &ndash; 删除标记a、c、d、e、f。</li><li>:delmarks! &ndash; 删除当前缓冲区的所有标记。</li><li>:help mark-motions 查看更多关于mark的知识。</li></ul><h1 id=5-插入文本httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid67><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id67 target=_blank rel=noopener>5. 插入文本</a></h1><h2 id=heading>[</h2><h2 id=52-改写插入httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid69><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id69 target=_blank rel=noopener>5.2 改写插入</a></h2><ul><li>c[n]w: 改写光标后1(n)个词。</li><li>c[n]l: 改写光标后n个字母。</li><li>c[n]h: 改写光标前n个字母。</li><li>[n]cc: 修改当前[n]行。</li><li>[n]s: 以输入的文本替代光标之后1(n)个字符，相当于c[n]l。</li><li>[n]S: 删除指定数目的行，并以所输入文本代替之。</li></ul><p>注意，类似cnw,dnw,ynw的形式同样可以写为ncw,ndw,nyw。</p><h1 id=6-剪切复制和寄存器httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid70><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id70 target=_blank rel=noopener>6. 剪切复制和寄存器</a></h1><ul><li></li></ul><h2 id=62-文本对象httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid72><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id72 target=_blank rel=noopener>6.2 文本对象</a></h2><ul><li>aw：一个词</li><li>as：一句。</li><li>ap：一段。</li><li>ab：一块（包含在圆括号中的）。</li></ul><p>y, d, c, v都可以跟文本对象。</p><h2 id=63-寄存器httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid73><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id73 target=_blank rel=noopener>6.3 寄存器</a></h2><ul><li>a-z：都可以用作寄存器名。&ldquo;ayy把当前行的内容放入a寄存器。</li><li>A-Z：用大写字母索引寄存器，可以在寄存器中追加内容。 如"Ayy把当前行的内容追加到a寄存器中。</li><li>:reg 显示所有寄存器的内容。</li><li>&ldquo;"：不加寄存器索引时，默认使用的寄存器。</li><li>&ldquo;*：当前选择缓冲区，"*yy把当前行的内容放入当前选择缓冲区。</li><li>&ldquo;+：系统剪贴板。"+yy把当前行的内容放入系统剪贴板。</li></ul><h1 id=7-查找与替换httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid74><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id74 target=_blank rel=noopener>7. 查找与替换</a></h1><h2 id=71-查找httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid75><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id75 target=_blank rel=noopener>7.1 查找</a></h2><ul><li>/something: 在后面的文本中查找something。</li><li>?something: 在前面的文本中查找something。</li><li>/pattern/+number: 将光标停在包含pattern的行后面第number行上。</li><li>/pattern/-number: 将光标停在包含pattern的行前面第number行上。</li><li>n: 向后查找下一个。</li><li>N: 向前查找下一个。</li></ul><p>可以用grep或vimgrep查找一个模式都在哪些地方出现过，</p><p>其中:grep是调用外部的grep程序，而:vimgrep是vim自己的查找算法。</p><p>用法为： :vim[grep]/pattern/[g] [j] files</p><p>g的含义是如果一个模式在一行中多次出现，则这一行也在结果中多次出现。</p><p>j的含义是grep结束后，结果停在第j项，默认是停在第一项。</p><p>vimgrep前面可以加数字限定搜索结果的上限，如</p><p>:1vim/pattern/ % 只查找那个模式在本文件中的第一个出现。</p><p>其实vimgrep在读纯文本电子书时特别有用，可以生成导航的目录。</p><p>比如电子书中每一节的标题形式为：n. xxxx。你就可以这样：</p><p>:vim/^d{1,}./ %</p><p>然后用:cw或:copen查看结果，可以用C-w H把quickfix窗口移到左侧，</p><p>就更像个目录了。</p><h2 id=72-替换httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid76><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id76 target=_blank rel=noopener>7.2 替换</a></h2><ul><li>:s/old/new - 用new替换当前行第一个old。</li><li>:s/old/new/g - 用new替换当前行所有的old。</li><li>:n1,n2s/old/new/g - 用new替换文件n1行到n2行所有的old。</li><li>:%s/old/new/g - 用new替换文件中所有的old。</li><li>:%s/^/xxx/g - 在每一行的行首插入xxx，^表示行首。</li><li>:%s/$/xxx/g - 在每一行的行尾插入xxx，$表示行尾。</li><li>所有替换命令末尾加上c，每个替换都将需要用户确认。 如：%s/old/new/gc，加上i则忽略大小写(ignore)。</li></ul><p>还有一种比替换更灵活的方式，它是匹配到某个模式后执行某种命令，</p><p>语法为 :[range]g/pattern/command</p><p>例如 :%g/^ xyz/normal dd。</p><p>表示对于以一个空格和xyz开头的行执行normal模式下的dd命令。</p><p>关于range的规定为：</p><ul><li>如果不指定range，则表示当前行。</li><li>m,n: 从m行到n行。</li><li>0: 最开始一行（可能是这样）。</li><li>$: 最后一行</li><li>.: 当前行</li><li>%: 所有行</li></ul><h2 id=73-正则表达式httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid77><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id77 target=_blank rel=noopener>7.3 正则表达式</a></h2><p>高级的查找替换就要用到正则表达式。</p><ul><li>d: 表示十进制数（我猜的）</li><li>s: 表示空格</li><li>S: 非空字符</li><li>a: 英文字母</li><li>|: 表示 或</li><li>.: 表示.</li><li>{m,n}: 表示m到n个字符。这要和 s与a等连用，如 a{m,n} 表示m 到n个英文字母。</li><li>{m,}: 表示m到无限多个字符。</li><li>**: 当前目录下的所有子目录。</li></ul><p>:help pattern得到更多帮助。</p><hr><h1 id=8-排版httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid78><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id78 target=_blank rel=noopener>8. 排版</a></h1><h2 id=81-基本排版httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid79><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id79 target=_blank rel=noopener>8.1 基本排版</a></h2><ul><li>&#171; 向左缩进一个shiftwidth</li><li>>> 向右缩进一个shiftwidth</li><li>:ce(nter) 本行文字居中</li><li>:le(ft) 本行文字靠左</li><li>:ri(ght) 本行文字靠右</li><li>gq 对选中的文字重排，即对过长的文字进行断行</li><li>gqq 重排当前行</li><li>gqnq 重排n行</li><li>gqap 重排当前段</li><li>gqnap 重排n段</li><li>gqnj 重排当前行和下面n行</li><li>gqQ 重排当前段对文章末尾</li><li>J 拼接当前行和下一行</li><li>gJ 同 J ，不过合并后不留空格。</li></ul><h2 id=82-拼写检查httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid80><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id80 target=_blank rel=noopener>8.2 拼写检查</a></h2><ul><li>:set spell－开启拼写检查功能</li><li>:set nospell－关闭拼写检查功能</li><li>]s－移到下一个拼写错误的单词</li><li>[s－作用与上一命令类似，但它是从相反方向进行搜索</li><li>z=－显示一个有关拼写错误单词的列表，可从中选择</li><li>zg－告诉拼写检查器该单词是拼写正确的</li><li>zw－与上一命令相反，告诉拼写检查器该单词是拼写错误的</li></ul><h2 id=83-统计字数httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid81><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id81 target=_blank rel=noopener>8.3 统计字数</a></h2><p>g ^g可以统计文档字符数，行数。 将光标放在最后一个字符上，用字符数减去行数可以粗略统计中文文档的字数。 以上对 Mac 或 Unix 的文件格式适用。 如果是 Windows 文件格式（即换行符有两个字节），字数的统计方法为： 字符数 - 行数 * 2。</p><hr><h1 id=9-编辑多个文件httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid82><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id82 target=_blank rel=noopener>9. 编辑多个文件</a></h1><h2 id=91-一次编辑多个文件httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid83><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id83 target=_blank rel=noopener>9.1 一次编辑多个文件</a></h2><p>我们可以一次打开多个文件，如</p><blockquote><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>&lt;span style=&#34;font-size:14px;&#34;&gt;vi a.txt b.txt c.txt
</span></span><span style=display:flex><span>&lt;/span&gt;
</span></span></code></pre></div></blockquote><ul><li>使用:next(:n)编辑下一个文件。</li><li>:2n 编辑下2个文件。</li><li>使用:previous或:N编辑上一个文件。</li><li>使用:wnext，保存当前文件，并编辑下一个文件。</li><li>使用:wprevious，保存当前文件，并编辑上一个文件。</li><li>使用:args 显示文件列表。</li><li>:n filenames或:args filenames 指定新的文件列表。</li><li>vi -o filenames 在水平分割的多个窗口中编辑多个文件。</li><li>vi -O filenames 在垂直分割的多个窗口中编辑多个文件。</li></ul><h2 id=92-多标签编辑httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid84><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id84 target=_blank rel=noopener>9.2 多标签编辑</a></h2><ul><li>vim -p files: 打开多个文件，每个文件占用一个标签页。</li><li>:tabe, tabnew &ndash; 如果加文件名，就在新的标签中打开这个文件， 否则打开一个空缓冲区。</li><li>^w gf &ndash; 在新的标签页里打开光标下路径指定的文件。</li><li>:tabn &ndash; 切换到下一个标签。Control + PageDown，也可以。</li><li>:tabp &ndash; 切换到上一个标签。Control + PageUp，也可以。</li><li>[n] gt &ndash; 切换到下一个标签。如果前面加了 n ， 就切换到第n个标签。第一个标签的序号就是1。</li><li>:tab split &ndash; 将当前缓冲区的内容在新页签中打开。</li><li>:tabc[lose] &ndash; 关闭当前的标签页。</li><li>:tabo[nly] &ndash; 关闭其它的标签页。</li><li>:tabs &ndash; 列出所有的标签页和它们包含的窗口。</li><li>:tabm[ove] [N] &ndash; 移动标签页，移动到第N个标签页之后。 如 tabm 0 当前标签页，就会变成第一个标签页。</li></ul><h2 id=93-缓冲区httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid85><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id85 target=_blank rel=noopener>9.3 缓冲区</a></h2><ul><li>:buffers或:ls或:files 显示缓冲区列表。</li><li>ctrl+^：在最近两个缓冲区间切换。</li><li>:bn &ndash; 下一个缓冲区。</li><li>:bp &ndash; 上一个缓冲区。</li><li>:bl &ndash; 最后一个缓冲区。</li><li>:b[n]或:[n]b &ndash; 切换到第n个缓冲区。</li><li>:nbw(ipeout) &ndash; 彻底删除第n个缓冲区。</li><li>:nbd(elete) &ndash; 删除第n个缓冲区，并未真正删除，还在unlisted列表中。</li><li>:ba[ll] &ndash; 把所有的缓冲区在当前页中打开，每个缓冲区占一个窗口。</li></ul><h1 id=10-分屏编辑httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid86><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id86 target=_blank rel=noopener>10. 分屏编辑</a></h1><ul><li>vim -o file1 file2:水平分割窗口，同时打开file1和file2</li><li>vim -O file1 file2:垂直分割窗口，同时打开file1和file2</li></ul><h2 id=101-水平分割httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid87><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id87 target=_blank rel=noopener>10.1 水平分割</a></h2><ul><li>:split(:sp) &ndash; 把当前窗水平分割成两个窗口。(CTRL-W s 或 CTRL-W CTRL-S) 注意如果在终端下，CTRL-S可能会冻结终端，请按CTRL-Q继续。</li><li>:split filename &ndash; 水平分割窗口，并在新窗口中显示另一个文件。</li><li>:nsplit(:nsp) &ndash; 水平分割出一个n行高的窗口。</li><li>:[N]new &ndash; 水平分割出一个N行高的窗口，并编辑一个新文件。 (CTRL-W n或 CTRL-W CTRL-N)</li><li>ctrl+w f &ndash;水平分割出一个窗口，并在新窗口打开名称为光标所在词的文件 。</li><li>C-w C-^ &ndash; 水平分割一个窗口，打开刚才编辑的文件。</li></ul><h2 id=102-垂直分割httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid88><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id88 target=_blank rel=noopener>10.2 垂直分割</a></h2><ul><li>:vsplit(:vsp) &ndash; 把当前窗口分割成水平分布的两个窗口。 (CTRL-W v或CTRL CTRL-V)</li><li>:[N]vne[w] &ndash; 垂直分割出一个新窗口。</li><li>:vertical 水平分割的命令： 相应的垂直分割。</li></ul><h2 id=103-关闭子窗口httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid89><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id89 target=_blank rel=noopener>10.3 关闭子窗口</a></h2><ul><li>:qall &ndash; 关闭所有窗口，退出vim。</li><li>:wall &ndash; 保存所有修改过的窗口。</li><li>:only &ndash; 只保留当前窗口，关闭其它窗口。(CTRL-W o)</li><li>:close &ndash; 关闭当前窗口，CTRL-W c能实现同样的功能。 (象 :q :x同样工作 )</li></ul><h2 id=104-调整窗口大小httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid90><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id90 target=_blank rel=noopener>10.4 调整窗口大小</a></h2><ul><li>ctrl+w + &ndash;当前窗口增高一行。也可以用n增高n行。</li><li>ctrl+w - &ndash;当前窗口减小一行。也可以用n减小n行。</li><li>ctrl+w _ &ndash;当前窗口扩展到尽可能的大。也可以用n设定行数。</li><li>:resize n &ndash; 当前窗口n行高。</li><li>ctrl+w = &ndash; 所有窗口同样高度。</li><li>n ctrl+w _ &ndash; 当前窗口的高度设定为n行。</li><li>ctrl+w &lt; &ndash;当前窗口减少一列。也可以用n减少n列。</li><li>ctrl+w > &ndash;当前窗口增宽一列。也可以用n增宽n列。</li><li>ctrl+w | &ndash;当前窗口尽可能的宽。也可以用n设定列数。</li></ul><h2 id=105-切换和移动窗口httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid91><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id91 target=_blank rel=noopener>10.5 切换和移动窗口</a></h2><p>如果支持鼠标，切换和调整子窗口的大小就简单了。</p><ul><li>ctrl+w ctrl+w: 切换到下一个窗口。或者是ctrl+w w。</li><li>ctrl+w p: 切换到前一个窗口。</li><li>ctrl+w h(l,j,k):切换到左（右，下，上）的窗口。</li><li>ctrl+w t(b):切换到最上（下）面的窗口。<br></li><li>ctrl+w H(L,K,J): 将当前窗口移动到最左（右、上、下）面。</li><li>ctrl+w r：旋转窗口的位置。</li><li>ctrl+w T: 将当前的窗口移动到新的标签页上。</li></ul><h1 id=11-快速编辑httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid92><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id92 target=_blank rel=noopener>11. 快速编辑</a></h1><h2 id=111-改变大小写httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid93><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id93 target=_blank rel=noopener>11.1 改变大小写</a></h2><ul><li>~: 反转光标所在字符的大小写。</li><li>可视模式下的U或u：把选中的文本变为大写或小写。</li><li>gu(U)接范围（如$，或G），可以把从光标当前位置到指定位置之间字母全部 转换成小写或大写。如ggguG，就是把开头到最后一行之间的字母全部变为小 写。再如gu5j，把当前行和下面四行全部变成小写。</li></ul><h2 id=112-替换normal模式httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid94><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id94 target=_blank rel=noopener>11.2 替换（normal模式）</a></h2><ul><li>r: 替换光标处的字符，同样支持汉字。</li><li>R: 进入替换模式，按esc回到正常模式。</li></ul><h2 id=113-撤消与重做normal模式httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid95><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id95 target=_blank rel=noopener>11.3 撤消与重做（normal模式）</a></h2><ul><li>[n] u: 取消一(n)个改动。</li><li>:undo 5 &ndash; 撤销5个改变。</li><li>:undolist &ndash; 你的撤销历史。</li><li>ctrl + r: 重做最后的改动。</li><li>U: 取消当前行中所有的改动。</li><li>:earlier 4m &ndash; 回到4分钟前</li><li>:later 55s &ndash; 前进55秒</li></ul><h2 id=114-宏httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid96><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id96 target=_blank rel=noopener>11.4 宏</a></h2><ul><li>. &ndash;重复上一个编辑动作</li><li>qa：开始录制宏a（键盘操作记录）</li><li>q：停止录制</li><li>@a：播放宏a</li></ul><h1 id=12-编辑特殊文件httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid97><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id97 target=_blank rel=noopener>12. 编辑特殊文件</a></h1><h2 id=121-文件加解密httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid98><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id98 target=_blank rel=noopener>12.1 文件加解密</a></h2><ul><li>vim -x file: 开始编辑一个加密的文件。</li><li>:X &ndash; 为当前文件设置密码。</li><li>:set key= &ndash; 去除文件的密码。</li></ul><p><a href=http://www.cnblogs.com/jiqingwu/admin/vim-quick-edit.html target=_blank rel=noopener>这里是</a>
滇狐总结的比较高级的vi技巧。</p><h2 id=122-文件的编码httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid99><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id99 target=_blank rel=noopener>12.2 文件的编码</a></h2><ul><li>:e ++enc=utf8 filename, 让vim用utf-8的编码打开这个文件。</li><li>:w ++enc=gbk，不管当前文件什么编码，把它转存成gbk编码。</li><li>:set fenc或:set fileencoding，查看当前文件的编码。</li><li>在vimrc中添加set fileencoding=ucs-bom,utf-8,cp936，vim会根据要打开的文件选择合适的编码。 注意：编码之间不要留空格。 cp936对应于gbk编码。 ucs-bom对应于windows下的文件格式。</li></ul><p>让vim 正确处理文件格式和文件编码，有赖于 <a href=http://www.cnblogs.com/jiqingwu/admin/vimrc.html target=_blank rel=noopener>~/.vimrc的正确配置</a></p><h2 id=123-文件格式httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid100><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id100 target=_blank rel=noopener>12.3 文件格式</a></h2><p>大致有三种文件格式：unix, dos, mac. 三种格式的区别主要在于回车键的编码：dos 下是回车加换行，unix 下只有 换行符，mac 下只有回车符。</p><ul><li>:e ++ff=dos filename, 让vim用dos格式打开这个文件。</li><li>:w ++ff=mac filename, 以mac格式存储这个文件。</li><li>:set ff，显示当前文件的格式。</li><li>在vimrc中添加set fileformats=unix,dos,mac，让vim自动识别文件格式。</li></ul><h1 id=13-编程辅助httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid101><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id101 target=_blank rel=noopener>13. 编程辅助</a></h1><h2 id=131-一些按键httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid102><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id102 target=_blank rel=noopener>13.1 一些按键</a></h2><ul><li>gd: 跳转到局部变量的定义处；</li><li>gD: 跳转到全局变量的定义处，从当前文件开头开始搜索；</li><li>g;: 上一个修改过的地方；</li><li>g,: 下一个修改过的地方；</li><li>[[: 跳转到上一个函数块开始，需要有单独一行的{。</li><li>]]: 跳转到下一个函数块开始，需要有单独一行的{。</li><li>[]: 跳转到上一个函数块结束，需要有单独一行的}。</li><li>][: 跳转到下一个函数块结束，需要有单独一行的}。</li><li>[{: 跳转到当前块开始处；</li><li>]}: 跳转到当前块结束处；</li><li>[/: 跳转到当前注释块开始处；</li><li>]/: 跳转到当前注释块结束处；</li><li>%: 不仅能移动到匹配的(),{}或[]上，而且能在#if，#else， #endif之间跳跃。</li></ul><p>下面的括号匹配对编程很实用的。</p><ul><li>ci&rsquo;, di&rsquo;, yi&rsquo;：修改、剪切或复制&rsquo;之间的内容。</li><li>ca&rsquo;, da&rsquo;, ya&rsquo;：修改、剪切或复制&rsquo;之间的内容，包含&rsquo;。</li><li>ci&rdquo;, di&rdquo;, yi&rdquo;：修改、剪切或复制"之间的内容。</li><li>ca&rdquo;, da", ya"：修改、剪切或复制"之间的内容，包含"。</li><li>ci(, di(, yi(：修改、剪切或复制()之间的内容。</li><li>ca(, da(, ya(：修改、剪切或复制()之间的内容，包含()。</li><li>ci[, di[, yi[：修改、剪切或复制[]之间的内容。</li><li>ca[, da[, ya[：修改、剪切或复制[]之间的内容，包含[]。</li><li>ci{, di{, yi{：修改、剪切或复制{}之间的内容。</li><li>ca{, da{, ya{：修改、剪切或复制{}之间的内容，包含{}。</li><li>ci&lt;, di&lt;, yi&lt;：修改、剪切或复制&lt;>之间的内容。</li><li>ca&lt;, da&lt;, ya&lt;：修改、剪切或复制&lt;>之间的内容，包含&lt;>。</li></ul><h2 id=132-ctagshttpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid103><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id103 target=_blank rel=noopener>13.2 ctags</a></h2><ul><li>ctags -R: 生成tag文件，-R表示也为子目录中的文件生成tags</li><li>:set tags=path/tags &ndash; 告诉ctags使用哪个tag文件</li><li>:tag xyz &ndash; 跳到xyz的定义处，或者将光标放在xyz上按C-]，返回用C-t</li><li>:stag xyz &ndash; 用分割的窗口显示xyz的定义，或者C-w ]， 如果用C-w n ]，就会打开一个n行高的窗口</li><li>:ptag xyz &ndash; 在预览窗口中打开xyz的定义，热键是C-w }。</li><li>:pclose &ndash; 关闭预览窗口。热键是C-w z。</li><li>:pedit abc.h &ndash; 在预览窗口中编辑abc.h</li><li>:psearch abc &ndash; 搜索当前文件和当前文件include的文件，显示包含abc的行。</li></ul><p>有时一个tag可能有多个匹配，如函数重载，一个函数名就会有多个匹配。 这种情况会先跳转到第一个匹配处。</p><ul><li>:[n]tnext &ndash; 下一[n]个匹配。</li><li>:[n]tprev &ndash; 上一[n]个匹配。</li><li>:tfirst &ndash; 第一个匹配</li><li>:tlast &ndash; 最后一个匹配</li><li>:tselect tagname &ndash; 打开选择列表</li></ul><p>tab键补齐</p><ul><li>:tag xyz<tab> &ndash; 补齐以xyz开头的tag名，继续按tab键，会显示其他的。</li><li>:tag /xyz<tab> &ndash; 会用名字中含有xyz的tag名补全。</li></ul><h2 id=133-cscopehttpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid104><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id104 target=_blank rel=noopener>13.3 cscope</a></h2><ul><li>cscope -Rbq: 生成cscope.out文件</li><li>:cs add /path/to/cscope.out /your/work/dir</li><li>:cs find c func &ndash; 查找func在哪些地方被调用</li><li>:cw &ndash; 打开quickfix窗口查看结果</li></ul><h2 id=134-gtagshttpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid105><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id105 target=_blank rel=noopener>13.4 gtags</a></h2><p>Gtags综合了ctags和cscope的功能。 使用Gtags之前，你需要安装GNU Gtags。 然后在工程目录运行 gtags 。</p><ul><li>:Gtags funcname 定位到 funcname 的定义处。</li><li>:Gtags -r funcname 查询 funcname被引用的地方。</li><li>:Gtags -s symbol 定位 symbol 出现的地方。</li><li>:Gtags -g string Goto string 出现的地方。 :Gtags -gi string 忽略大小写。</li><li>:Gtags -f filename 显示 filename 中的函数列表。 你可以用 :Gtags -f % 显示当前文件。</li><li>:Gtags -P pattern 显示路径中包含特定模式的文件。 如 :Gtags -P .h$ 显示所有头文件， :Gtags -P /vm/ 显示vm目录下的文件。</li></ul><h2 id=135-编译httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid106><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id106 target=_blank rel=noopener>13.5 编译</a></h2><p>vim提供了:make来编译程序，默认调用的是make， 如果你当前目录下有makefile，简单地:make即可。</p><p>如果你没有make程序，你可以通过配置makeprg选项来更改make调用的程序。 如果你只有一个abc.java文件，你可以这样设置：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>&lt;span style=&#34;font-size:14px;&#34;&gt;set makeprg=javac abc.java
</span></span><span style=display:flex><span>&lt;/span&gt;
</span></span></code></pre></div><p>然后:make即可。如果程序有错，可以通过quickfix窗口查看错误。 不过如果要正确定位错误，需要设置好errorformat，让vim识别错误信息。 如：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>&lt;span style=&#34;font-size:14px;&#34;&gt;:setl efm=%A%f:%l: %m,%-Z%p^,%-C%.%#
</span></span><span style=display:flex><span>&lt;/span&gt;
</span></span></code></pre></div><p>%f表示文件名，%l表示行号， %m表示错误信息，其它的还不能理解。 请参考 :help errorformat。</p><h2 id=136-快速修改窗口httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid107><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id107 target=_blank rel=noopener>13.6 快速修改窗口</a></h2><p>其实是quickfix插件提供的功能， 对编译调试程序非常有用 :)</p><ul><li>:copen &ndash; 打开快速修改窗口。</li><li>:cclose &ndash; 关闭快速修改窗口。</li></ul><p>快速修改窗口在make程序时非常有用，当make之后：</p><ul><li>:cl &ndash; 在快速修改窗口中列出错误。</li><li>:cn &ndash; 定位到下一个错误。</li><li>:cp &ndash; 定位到上一个错误。</li><li>:cr &ndash; 定位到第一个错误。</li></ul><h2 id=137-自动补全httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid108><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id108 target=_blank rel=noopener>13.7 自动补全</a></h2><ul><li>C-x C-s &ndash; 拼写建议。</li><li>C-x C-v &ndash; 补全vim选项和命令。</li><li>C-x C-l &ndash; 整行补全。</li><li>C-x C-f &ndash; 自动补全文件路径。弹出菜单后，按C-f循环选择，当然也可以按 C-n和C-p。</li><li>C-x C-p 和C-x C-n &ndash; 用文档中出现过的单词补全当前的词。 直接按C-p和C-n也可以。</li><li>C-x C-o &ndash; 编程时可以补全关键字和函数名啊。</li><li>C-x C-i &ndash; 根据头文件内关键字补全。</li><li>C-x C-d &ndash; 补全宏定义。</li><li>C-x C-n &ndash; 按缓冲区中出现过的关键字补全。 直接按C-n或C-p即可。</li></ul><p>当弹出补全菜单后：</p><ul><li>C-p 向前切换成员；</li><li>C-n 向后切换成员；</li><li>C-e 退出下拉菜单，并退回到原来录入的文字；</li><li>C-y 退出下拉菜单，并接受当前选项。</li></ul><h2 id=138-多行缩进缩出httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid109><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id109 target=_blank rel=noopener>13.8 多行缩进缩出</a></h2><ul><li>正常模式下，按两下>;光标所在行会缩进。</li><li>如果先按了n，再按两下>;，光标以下的n行会缩进。</li><li>对应的，按两下&lt;;，光标所在行会缩出。</li><li>如果在编辑代码文件，可以用=进行调整。</li><li>在可视模式下，选择要调整的代码块，按=，代码会按书写规则缩排好。</li><li>或者n =，调整n行代码的缩排。</li></ul><h2 id=139-折叠httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid110><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id110 target=_blank rel=noopener>13.9 折叠</a></h2><ul><li>zf &ndash; 创建折叠的命令，可以在一个可视区域上使用该命令；</li><li>zd &ndash; 删除当前行的折叠；</li><li>zD &ndash; 删除当前行的折叠；</li><li>zfap &ndash; 折叠光标所在的段；</li><li>zo &ndash; 打开折叠的文本；</li><li>zc &ndash; 收起折叠；</li><li>za &ndash; 打开/关闭当前折叠；</li><li>zr &ndash; 打开嵌套的折行；</li><li>zm &ndash; 收起嵌套的折行；</li><li>zR (zO) &ndash; 打开所有折行；</li><li>zM (zC) &ndash; 收起所有折行；</li><li>zj &ndash; 跳到下一个折叠处；</li><li>zk &ndash; 跳到上一个折叠处；</li><li>zi &ndash; enable/disable fold;</li></ul><h1 id=14-命令行httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid111><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id111 target=_blank rel=noopener>14. 命令行</a></h1><p>normal模式下按:进入命令行模式</p><h2 id=141-命令行模式下的快捷键httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid112><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id112 target=_blank rel=noopener>14.1 命令行模式下的快捷键：</a></h2><ul><li>上下方向键：上一条或者下一条命令。如果已经输入了部分命令，则找上一 条或者下一条匹配的命令。</li><li>左右方向键：左/右移一个字符。</li><li>C-w： 向前删除一个单词。</li><li>C-h： 向前删除一个字符，等同于Backspace。</li><li>C-u： 从当前位置移动到命令行开头。</li><li>C-b： 移动到命令行开头。</li><li>C-e： 移动到命令行末尾。</li><li>Shift-Left： 左移一个单词。</li><li>Shift-Right： 右移一个单词。</li><li>@： 重复上一次的冒号命令。</li><li>q： 正常模式下，q然后按&rsquo;:&rsquo;，打开命令行历史缓冲区， 可以像编辑文件一样编辑命令。</li><li>q/和q? 可以打开查找历史记录。</li></ul><h2 id=142-执行外部命令httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid113><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id113 target=_blank rel=noopener>14.2 执行外部命令</a></h2><ul><li>:! cmd 执行外部命令。</li><li>:!! 执行上一次的外部命令。</li><li>:sh 调用shell，用exit返回vim。</li><li>:r !cmd 将命令的返回结果插入文件当前位置。</li><li>:m,nw !cmd 将文件的m行到n行之间的内容做为命令输入执行命令。</li></ul><h1 id=15-其它httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid114><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id114 target=_blank rel=noopener>15. 其它</a></h1><h2 id=151-工作目录httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid115><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id115 target=_blank rel=noopener>15.1 工作目录</a></h2><ul><li>:pwd 显示vim的工作目录。</li><li>:cd path 改变vim的工作目录。</li><li>:set autochdir 可以让vim 根据编辑的文件自动切换工作目录。</li></ul><h2 id=152-一些快捷键收集中httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid116><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id116 target=_blank rel=noopener>15.2 一些快捷键（收集中）</a></h2><ul><li>K: 打开光标所在词的manpage。</li><li>*: 向下搜索光标所在词。</li><li>g*: 同上，但部分符合即可。</li><li>#: 向上搜索光标所在词。</li><li>g#: 同上，但部分符合即可。</li><li>g C-g: 统计全文或统计部分的字数。</li></ul><h2 id=153-在线帮助httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid117><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id117 target=_blank rel=noopener>15.3 在线帮助</a></h2><ul><li>:h(elp)或F1 打开总的帮助。</li><li>:help user-manual 打开用户手册。</li><li>命令帮助的格式为：第一行指明怎么使用那个命令； 然后是缩进的一段解释这个命令的作用，然后是进一步的信息。</li><li>:helptags somepath 为somepath中的文档生成索引。</li><li>:helpgrep 可以搜索整个帮助文档，匹配的列表显示在quickfix窗口中。</li><li>Ctrl+] 跳转到tag主题，Ctrl+t 跳回。</li><li>:ver 显示版本信息。</li></ul><h2 id=154-一些小功能httpwwwcnblogscomjiqingwuarchive20120614vim_noteshtmlid118><a href=http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#id118 target=_blank rel=noopener>15.4 一些小功能</a></h2><ul><li>简单计算器: 在插入模式下，输入C-r =，然后输入表达式，就能在 光标处得到计算结果。</li></ul><h2 id=vim命令小技巧>vim命令小技巧</h2><h2 id=保存文件并退出>保存文件并退出</h2><dl><dt>说起来有些惭愧，我也是最近才学到这个命令</dt><dd><p>x</p></dd><dt>和下面的命令是等价的：</dt><dd><p>wq</p></dd></dl><p>都是保存当前文件并退出。</p><p>（译者注：这两个命令实际上并不完全等价，当文件被修改时两个命令时相同的。但如果未被修改，使用 : x 不会更改文件的修改时间，而使用 :wq 会改变文件的修改时间。）</p><h2 id=基本计算器>基本计算器</h2><p>在插入模式下，你可以使用 Ctrl+r 键然后输入 =，再输入一个简单的算式。按 Enter 键，计算结果就会插入到文件中。例如，尝试输入：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>Ctrl<span style=color:#666>+</span>r <span>&#39;</span><span style=color:#666>=</span>2<span style=color:#666>+</span>2<span>&#39;</span> ENTER
</span></span></code></pre></div><p>然后计算结果“4 ”会被插入到文件中。</p><h2 id=查找重复的连续的单词>查找重复的连续的单词</h2><p>当你很快地打字时，很有可能会连续输入同一个单词两次，就像 this this。这种错误可能骗过任何一个人，即使是你自己重新阅读一遍也不可避免。幸运的是，有一个简单的正则表达式可以用来预防这个错误。使用搜索命令（默认是 /）然后输入：</p><p><img src=http://static.codeceo.com/images/2015/03/56ae8c4ac0da34ecbaf2b9737b0d47b8.jpg alt=微博桌面截图_20150306094004></p><p>这会显示所有重复的单词。要达到最好的效果，不要忘记把下面的命令：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>set hlsearch
</span></span></code></pre></div><p>放到你的 .vimrc 文件中高亮所有的匹配。</p><p>缩写</p><p>一个很可能是最令人印象深刻的窍门是你可以在 Vim 中定义缩写，它可以实时地把你输入的东西替换为另外的东西。语法格式如下：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>:<span style=color:#a2f>ab</span> <span style=color:#666>[</span><span style=color:green;font-weight:700>缩写</span><span style=color:#666>]</span> <span style=color:#666>[</span><span style=color:green;font-weight:700>要替换的文字</span><span style=color:#666>]</span>
</span></span></code></pre></div><p>一个通用的例子是：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>:ab asap as soon as possible
</span></span></code></pre></div><p>会把你输入的 “asap” 替换为 “as soon as possible”。</p><h2 id=在你忘记用-root-方式打开文件时的文件保存>在你忘记用 root 方式打开文件时的文件保存</h2><p>这可能是一个在论坛中一直受欢迎的命令。每当你打开一个你没有写入权限的文件（比如系统配置文件）并做了一些修改，Vim 无法通过普通的 “:w” 命令来保存。</p><p>你不需要重新以 root 方式打开文件再进行修改，只需要运行：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>:<span style=color:#a2f>w</span> <span style=color:#666>!</span><span style=color:green;font-weight:700>sudo</span> <span style=color:green;font-weight:700>tee</span> <span style=color:#666>%</span>
</span></span></code></pre></div><p>这会直接以 root 方式保存。</p><h2 id=实时加密文本>实时加密文本</h2><p>如果你不想让别人看懂你的屏幕上的内容，你可以使用一个内置的选项，通过下面的命令使用 <a href=https://en.wikipedia.org/wiki/ROT13 target=_blank rel=noopener>ROT13</a>
来对文本进行编码：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>ggVGg?
</span></span></code></pre></div><p>gg 把光标移动到 Vim 缓冲区的第一行，V 进入可视模式，G 把光标移动到缓冲区的最后一行。因此，ggVG 使可视模式覆盖这个当前缓冲区。最后 g? 使用 ROT13 对整个区域进行编码。</p><p>注意它可以被映射到一个最常使用的键。它对字母符号也可以很好地工作。要对它进行撤销，最好的方法就是使用撤销命令：u。</p><h2 id=自动补全>自动补全</h2><p>这是另外一个令我感到惭愧的功能，但我发现周围很多人并不知道。Vim 默认有自动补全的功能。的确这个功能是很基本的，并且可以通过插件来增强，但它也很有帮助。方法很简单。Vim 尝试通过已经输入的单词来预测单词的结尾。比如当你在同一个文件中第二次输入 “compiler” 时，仅仅输入 “com” 然后保持在插入模式，按 Ctrl+n 键就可以看到 Vim 为你补全了单词。很简单，但也很有用。</p><h2 id=比较两个文件的不同>比较两个文件的不同</h2><p>你们中的大多数很可能都知道 vimdiff 命令，它可以使用分离模式打开 Vim 并比较两个文件的不同。语法如下：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span><span>$</span> vimdiff <span style=color:#666>[</span><span>文件</span><span style=color:#666>1</span><span style=color:#666>]</span> <span style=color:#666>[</span><span>文件</span><span style=color:#666>2</span><span style=color:#666>]</span>
</span></span></code></pre></div><p>但同样的结果也可以通过下面的 Vim 命令来获得：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>:<span style=color:#a2f>diffthis</span>
</span></span></code></pre></div><p>首先在 Vim 中打开原始文件。然后使用分离模式带来第二个文件：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>:<span style=color:#a2f>vsp</span> <span style=color:#666>[</span><span style=color:green;font-weight:700>文件2</span><span style=color:#666>]</span>
</span></span></code></pre></div><p>最后在第一个缓冲区里输入：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>:<span style=color:#a2f>diffthis</span>
</span></span></code></pre></div><p>通过 Ctrl+w 来切换缓冲区并再次输入：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>:<span style=color:#a2f>diffthis</span>
</span></span></code></pre></div><p>这样两个文件中不同的部分就会被高亮。</p><p>（译者注：可以直接在一个缓冲区里使用命令 :windo diffthis，而不用输入 :diffthis 两次）</p><p>要停止比较，使用：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>:<span style=color:#a2f>diffoff</span>
</span></span></code></pre></div><h2 id=按时间回退文件>按时间回退文件</h2><p>Vim 会记录文件的更改，你很容易可以回退到之前某个时间。该命令是相当直观的。比如：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>:<span style=color:#a2f>earlier</span> <span style=color:green;font-weight:700>1m</span>
</span></span></code></pre></div><p>会把文件回退到 1 分钟以前的状态。</p><p>注意，你可以使用下面的命令进行相反的转换：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>:<span style=color:#a2f>later</span>
</span></span></code></pre></div><h2 id=删除标记内部的文字>删除标记内部的文字</h2><p>当我开始使用 Vim 时，一件我总是想很方便做的事情是如何轻松的删除方括号或圆括号里的内容。转到开始的标记，然后使用下面的语法：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:green;font-weight:700>di</span><span style=color:#666>[</span><span style=color:green;font-weight:700>标记</span><span style=color:#666>]</span>
</span></span></code></pre></div><p>比如，把光标放在开始的圆括号上，使用下面的命令来删除圆括号内的文字：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>di(
</span></span></code></pre></div><p>如果是方括号或者是引号，则使用：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>di{
</span></span></code></pre></div><p>和：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>di&#34;
</span></span></code></pre></div><h2 id=删除指定标记前的内容>删除指定标记前的内容</h2><p>和删除标记内部有些相似，但目的不同。命令如下：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:green;font-weight:700>dt</span><span style=color:#666>[</span><span style=color:green;font-weight:700>标记</span><span style=color:#666>]</span>
</span></span></code></pre></div><p>会删除所有光标和标记之间的内容（保持标记不动），如果在同一行有这个标记的话。例如</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>dt.
</span></span></code></pre></div><p>会删除至句子的末尾，但保持 ‘.’ 不动。</p><h2 id=把-vim-变为十六进制编辑器>把 Vim 变为十六进制编辑器</h2><p>这不是我最喜欢的窍门，但有时会很有趣。你可以把 Vim 和 xxd 功能连起来来把文件转换为十六进制模式。命令如下：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span><span style=color:#b8860b>:%</span><span style=color:#666>!</span>xxd
</span></span></code></pre></div><p>类似的，你可以通过下面的命令恢复原来的状态：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span><span style=color:#b8860b>:%</span><span style=color:#666>!</span>xxd <span style=color:#666>-</span>r
</span></span></code></pre></div><h2 id=把光标下的文字置于屏幕中央>把光标下的文字置于屏幕中央</h2><p>我们所要做的事情如标题所示。如果你想强制滚动屏幕来把光标下的文字置于屏幕的中央，在可视模式中使用命令（译者注：在普通模式中也可以）：</p><p>zz</p><h2 id=跳到上一个下一个位置>跳到上一个／下一个位置</h2><p>当你编辑一个很大的文件时，经常要做的事是在某处进行修改，然后跳到另外一处。如果你想跳回之前修改的地方，使用命令：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>Ctrl+o
</span></span></code></pre></div><p>来回到之前修改的地方</p><p>类似的：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>Ctrl+i
</span></span></code></pre></div><p>会回退上面的跳动。</p><h2 id=把当前文件转化为网页>把当前文件转化为网页</h2><p>这会生成一个 HTML 文件来显示文本，并在分开的窗口显示源代码：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span><span style=color:#b8860b>:%</span><span style=color:#800>TOhtml</span>
</span></span></code></pre></div></div><footer class=post-footer><div class=post-tags><a href=/tags/linux rel=tag title=Linux>#Linux#</a>
<a href=/tags/vim rel=tag title=Vim>#Vim#</a>
<a href=/tags/command rel=tag title=Command>#Command#</a></div><div class=addthis_inline_share_toolbox></div><div class=post-nav><div class=article-copyright><div class=article-copyright-img><img src=/img/qq_qrcode.png width=129px height=129px><div style=text-align:center>QQ扫一扫交流</div></div><div class=article-copyright-info><p><span>标题：</span>Vim的四种模式及操作命令大全</p><p><span>链接：</span>/post/vim%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F%E5%8F%8A%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4%E5%A4%A7%E5%85%A8/</p><p><span>作者：</span>极光code</p><p><span>声明： </span>本博客文章除特别声明外，均采用 <a href=https://creativecommons.org/licenses/by-nc-sa/3.0/ target=_blank style=text-decoration:underline>CC BY-NC-SA 3.0</a>许可协议，转载请注明出处！</p></div></div><div class=clear></div></div><div class=reward-qr-info><div>创作实属不易，如有帮助，那就打赏博主些许茶钱吧 ^_^</div><button id=rewardButton disable=enable onclick='var qr=document.getElementById("QR");qr.style.display==="none"?qr.style.display="block":qr.style.display="none"'>
<span>赏</span></button><div id=QR style=display:none><div id=wechat style=display:inline-block><img id=wechat_qr src=/img/wechat-pay.png alt="WeChat Pay"><p>微信打赏</p></div><div id=alipay style=display:inline-block><img id=alipay_qr src=/img/ali-pay.png alt=Alipay><p>支付宝打赏</p></div></div></div><div class=post-nav><div class="post-nav-next post-nav-item"><a href=/post/linux%E6%96%87%E4%BB%B6%E8%AF%A6%E7%BB%86%E5%B1%9E%E6%80%A7%E5%AD%A6%E4%B9%A0/ rel=next title=Linux文件详细属性学习><i class="fa fa-chevron-left"></i> Linux文件详细属性学习</a></div><div class="post-nav-prev post-nav-item"><a href=/post/linuxcentos-7%E7%B3%BB%E7%BB%9F%E5%9B%9B%E7%A7%8D%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E7%9A%84%E6%96%B9%E5%BC%8F%E5%8F%8Amysql5.7%E7%9A%84%E8%AF%A6%E7%BB%86%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/ rel=prev title="Linux(CentOS 7)系统四种安装软件的方式及mysql5.7的详细安装配置">Linux(CentOS 7)系统四种安装软件的方式及mysql5.7的详细安装配置
<i class="fa fa-chevron-right"></i></a></div></div><div id=wcomments></div></footer></article></section></div></div><div class=sidebar-toggle><div class=sidebar-toggle-line-wrap><span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
<span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
<span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id=sidebar class=sidebar><div class=sidebar-inner><section class="site-overview sidebar-panel sidebar-panel-active"><div class="site-author motion-element" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image src=/img/avatar.png alt=极光code><p class=site-author-name itemprop=name>极光code</p><p class="site-description motion-element" itemprop=description>以梦为马，不负韶华!</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href=/post/><span class=site-state-item-count>48</span>
<span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>49</span>
<span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>62</span>
<span class=site-state-item-name>标签</span></a></div></nav><div class="links-of-author motion-element"><span class=links-of-author-item><a href=https://github.com/wk123456/ target=_blank title=GitHub><i class="fa fa-fw fa-github"></i>
GitHub</a></span>
<span class=links-of-author-item><a href=https://www.zhihu.com/ target=_blank title=知乎><i class="fa fa-fw fa-globe"></i>
知乎</a></span></div><div class="links-of-blogroll motion-element links-of-blogroll-inline"><div class=links-of-blogroll-title><i class="fa fa-fw fa-globe"></i>
友情链接</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><a href=https://nutzam.com/ title=Nutz target=_blank>Nutz</a></li><li class=links-of-blogroll-item><a href=https://jfinal.com/ title=JFinal target=_blank>JFinal</a></li><li class=links-of-blogroll-item><a href=http://wendal.net/ title=Wendal target=_blank>Wendal</a></li><li class=links-of-blogroll-item><a href=https://www.liaoxuefeng.com/ title=廖雪峰 target=_blank>廖雪峰</a></li></ul></div><div class="tagcloud-of-blogroll motion-element tagcloud-of-blogroll-inline"><div class=tagcloud-of-blogroll-title><i class="fa fa-fw fa-tags"></i>
标签云</div><ul class=tagcloud-of-blogroll-list><li class=tagcloud-of-blogroll-item><a href=/tags/linux>Linux
<sup>9</sup></a></li><li class=tagcloud-of-blogroll-item><a href=/tags/java>Java
<sup>8</sup></a></li><li class=tagcloud-of-blogroll-item><a href=/tags/mysql>Mysql
<sup>8</sup></a></li><li class=tagcloud-of-blogroll-item><a href=/tags/git>Git
<sup>5</sup></a></li><li class=tagcloud-of-blogroll-item><a href=/tags/problem-solving>Problem solving
<sup>5</sup></a></li><li class=tagcloud-of-blogroll-item><a href=/tags/java-base>Java base
<sup>4</sup></a></li><li class=tagcloud-of-blogroll-item><a href=/tags/docker>Docker
<sup>3</sup></a></li><li class=tagcloud-of-blogroll-item><a href=/tags/spring>Spring
<sup>3</sup></a></li><li class=tagcloud-of-blogroll-item><a href=/tags/threadlocal>Threadlocal
<sup>3</sup></a></li><li class=tagcloud-of-blogroll-item><a href=/tags/command>Command
<sup>2</sup></a></li></ul></div></section></div></aside></div></main><footer id=footer class=footer><div class=footer-inner><div class=copyright><span class=copyright-year>&copy; 2010 - 2023</span>
<span class=with-love><i class="fa fa-heart"></i></span>
<span class=copyright-author>好记性不如烂笔头</span></div><div class=powered-info><span class=powered-by>Powered by - <a class=powered-link href=//gohugo.io target=_blank title=hugo>Hugo v0.99.1</a></span>
<span class=separator-line>/</span>
<span class=theme-info>Theme by - <a class=powered-link href=//github.com/elkan1788/hugo-theme-next target=_blank>NexT</a></span></div><div class=vistor-info><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script>
<span class=site-uv><i class="fa fa-user"></i>
<span class=busuanzi-value id=busuanzi_value_site_uv></span></span>
<span class=separator-line>/</span>
<span class=site-pv><i class="fa fa-eye"></i>
<span class=busuanzi-value id=busuanzi_value_site_pv></span></span></div><div class=license-info><span class=storage-info>Storage by
<a href=https://gitee.com/ style=font-weight:700 target=_blank>Gitee 仓库</a></span>
<span class=separator-line>/</span>
<span class=license-num><a href=http://beian.miit.gov.cn target=_blank>粤 ICP 备 18047355 号</a></span></div></div></footer><div class=back-to-top><i class="fa fa-arrow-up"></i>
<span id=scrollpercent><span>0</span>%</span></div></div><script type=text/javascript src=//unpkg.com/jquery@2.1.4/dist/jquery.min.js></script>
<script type=text/javascript src=/js/search.js></script>
<script type=text/javascript src=/js/affix.js></script>
<script type=text/javascript>function detectIE(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),n=e.indexOf("Trident/"),s=e.indexOf("Edge/");return t>0||n>0||s>0?-1:1}function getCntViewHeight(){var t=$("#content").height(),e=$(window).height(),n=t>e?t-e:$(document).height()-e;return n}function getScrollbarWidth(){var e=$("<div />").addClass("scrollbar-measure").prependTo("body"),t=e[0],n=t.offsetWidth-t.clientWidth;return e.remove(),n}function registerBackTop(){var t=50,e=$(".back-to-top");$(window).on("scroll",function(){e.toggleClass("back-to-top-on",window.pageYOffset>t);var s=$(window).scrollTop(),o=getCntViewHeight(),i=s/o,n=Math.round(i*100),a=n>100?100:n;$("#scrollpercent>span").html(a)}),e.on("click",function(){$("html,body").animate({scrollTop:0,screenLeft:0},800)})}function initScrollSpy(){var e=".post-toc",s=$(e),t=".active-current";s.on("activate.bs.scrollspy",function(){var t=$(e+" .active").last();n(),t.addClass("active-current")}).on("clear.bs.scrollspy",n),$("body").scrollspy({target:e});function n(){$(e+" "+t).removeClass(t.substring(1))}}function initAffix(){var e=$(".header-inner").height(),t=parseInt($(".footer").outerHeight(!0),10),n=e+10;$(".sidebar-inner").affix({offset:{top:n,bottom:t}})}function initTOCDimension(){$(window).on("resize",function(){e&&clearTimeout(e),e=setTimeout(function(){var e=document.body.clientHeight-100;updateTOCHeight(e)},0)}),updateTOCHeight(document.body.clientHeight-100);var e,t=getScrollbarWidth();$(".post-toc").css("width","calc(100% + "+t+"px)")}function updateTOCHeight(e){e=e||"auto",$(".post-toc").css("max-height",e)}$(function(){var e,t,n,s,o=$(".header-inner").height()+10;$("#sidebar").css({'margin-top':o}).show(),t=parseInt($("#sidebar").css("margin-top")),n=parseInt($(".sidebar-inner").css("height")),e=t+n,s=$(".content-wrap").height(),s<e&&$(".content-wrap").css("min-height",e),$(".site-nav-toggle").on("click",function(){var e=$(".site-nav"),o=$(".toggle"),t="site-nav-on",i="toggle-close",n=e.hasClass(t),a=n?"slideUp":"slideDown",s=n?"removeClass":"addClass";e.stop()[a]("normal",function(){e[s](t),o[s](i)})}),registerBackTop(),initAffix(),initTOCDimension(),$(".sidebar-nav-toc").click(function(){$(this).addClass("sidebar-nav-active"),$(this).next().removeClass("sidebar-nav-active"),$("."+$(this).next().attr("data-target")).toggle(500),$("."+$(this).attr("data-target")).toggle(500)}),$(".sidebar-nav-overview").click(function(){$(this).addClass("sidebar-nav-active"),$(this).prev().removeClass("sidebar-nav-active"),$("."+$(this).prev().attr("data-target")).toggle(500),$("."+$(this).attr("data-target")).toggle(500)})})</script><script src=//unpkg.com/imageviewer@1.1.0/dist/viewer.min.js></script>
<script type=text/javascript>$(function(){$(".post-body").viewer()})</script><script type=text/javascript>const locale={placeholder:"欢迎留下您的宝贵建议，请填写您的昵称和邮箱便于后续交流. ^_^"};$(function(){detectIE()>0?$.getScript(document.location.protocol+"//unpkg.com/@waline/client@1.6.0/dist/Waline.min.js",function(){new Waline({el:"#wcomments",visitor:!0,emoji:[],wordLimit:"200",uploadImage:!1,locale,requiredMeta:["nick","mail"],serverURL:"Your WalineSerURL",lang:"zh-cn"})}):$("#wcomments").html("抱歉，Waline插件不支持IE或Edge，建议使用Chrome浏览器。")})</script><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=Your%20AddthisId"></script>
<script>(function(){var t,e=document.createElement("script"),n=window.location.protocol.split(":")[0];n==="https"?e.src="https://zz.bdstatic.com/linksubmit/push.js":e.src="http://push.zhanzhang.baidu.com/push.js",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t)})()</script></body></html>